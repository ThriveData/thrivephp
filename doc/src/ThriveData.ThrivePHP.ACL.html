
<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width">

	<title>Class ThriveData\ThrivePHP\ACL |  API</title>
	<link rel="stylesheet" href="assets/main.css">
	<script src="assets/main.js" defer></script>
</head>

<body class="layout">
	<div class="layout-aside">
	<div class="menu">
			<div class="menu-section">
				<h3>Namespaces</h3>
	<ul>
			<li class="menuGroup-item active">
				<a href="namespace-ThriveData.html">ThriveData</a>
	<ul>
			<li class="menuGroup-item active">
				<a href="namespace-ThriveData.ThrivePHP.html">ThrivePHP</a>
			</li>
	</ul>
			</li>
	</ul>
			</div>

		<div class="menu-section">
			<h3>Classes</h3>
			<ul>
					<li class="active">
						<a href="ThriveData.ThrivePHP.ACL.html">
							ACL
						</a>
					</li>
					<li>
						<a href="ThriveData.ThrivePHP.Application.html">
							Application
						</a>
					</li>
					<li>
						<a href="ThriveData.ThrivePHP.Arrays.html">
							Arrays
						</a>
					</li>
					<li>
						<a href="ThriveData.ThrivePHP.Command.html">
							Command
						</a>
					</li>
					<li>
						<a href="ThriveData.ThrivePHP.Commander.html">
							Commander
						</a>
					</li>
					<li>
						<a href="ThriveData.ThrivePHP.Controller.html">
							Controller
						</a>
					</li>
					<li>
						<a href="ThriveData.ThrivePHP.CURL.html">
							CURL
						</a>
					</li>
					<li>
						<a href="ThriveData.ThrivePHP.DatabaseCondition.html">
							DatabaseCondition
						</a>
					</li>
					<li>
						<a href="ThriveData.ThrivePHP.DatabaseConnection.html">
							DatabaseConnection
						</a>
					</li>
					<li>
						<a href="ThriveData.ThrivePHP.DatabaseDateInterval.html">
							DatabaseDateInterval
						</a>
					</li>
					<li>
						<a href="ThriveData.ThrivePHP.DatabaseDateTime.html">
							DatabaseDateTime
						</a>
					</li>
					<li>
						<a href="ThriveData.ThrivePHP.DatabaseResult.html">
							DatabaseResult
						</a>
					</li>
					<li>
						<a href="ThriveData.ThrivePHP.DB.html">
							DB
						</a>
					</li>
					<li>
						<a href="ThriveData.ThrivePHP.Log.html">
							Log
						</a>
					</li>
					<li>
						<a href="ThriveData.ThrivePHP.Notification.html">
							Notification
						</a>
					</li>
					<li>
						<a href="ThriveData.ThrivePHP.Page.html">
							Page
						</a>
					</li>
					<li>
						<a href="ThriveData.ThrivePHP.Response.html">
							Response
						</a>
					</li>
					<li>
						<a href="ThriveData.ThrivePHP.Route.html">
							Route
						</a>
					</li>
					<li>
						<a href="ThriveData.ThrivePHP.Router.html">
							Router
						</a>
					</li>
					<li>
						<a href="ThriveData.ThrivePHP.Session.html">
							Session
						</a>
					</li>
					<li>
						<a href="ThriveData.ThrivePHP.Settings.html">
							Settings
						</a>
					</li>
					<li>
						<a href="ThriveData.ThrivePHP.View.html">
							View
						</a>
					</li>
			</ul>
		</div>
		<div class="menu-section">
			<h3>Exceptions</h3>
			<ul>
					<li>
						<a href="ThriveData.ThrivePHP.ApplicationException.html">
							ApplicationException
						</a>
					</li>
					<li>
						<a href="ThriveData.ThrivePHP.AutoloadException.html">
							AutoloadException
						</a>
					</li>
					<li>
						<a href="ThriveData.ThrivePHP.BadRequest.html">
							BadRequest
						</a>
					</li>
					<li>
						<a href="ThriveData.ThrivePHP.CompileErrorException.html">
							CompileErrorException
						</a>
					</li>
					<li>
						<a href="ThriveData.ThrivePHP.CompileWarningException.html">
							CompileWarningException
						</a>
					</li>
					<li>
						<a href="ThriveData.ThrivePHP.ContextException.html">
							ContextException
						</a>
					</li>
					<li>
						<a href="ThriveData.ThrivePHP.CoreErrorException.html">
							CoreErrorException
						</a>
					</li>
					<li>
						<a href="ThriveData.ThrivePHP.CoreWarningException.html">
							CoreWarningException
						</a>
					</li>
					<li>
						<a href="ThriveData.ThrivePHP.CURLException.html">
							CURLException
						</a>
					</li>
					<li>
						<a href="ThriveData.ThrivePHP.DatabaseCheckViolation.html">
							DatabaseCheckViolation
						</a>
					</li>
					<li>
						<a href="ThriveData.ThrivePHP.DatabaseClientException.html">
							DatabaseClientException
						</a>
					</li>
					<li>
						<a href="ThriveData.ThrivePHP.DatabaseDataException.html">
							DatabaseDataException
						</a>
					</li>
					<li>
						<a href="ThriveData.ThrivePHP.DatabaseDataTypeMismatch.html">
							DatabaseDataTypeMismatch
						</a>
					</li>
					<li>
						<a href="ThriveData.ThrivePHP.DatabaseException.html">
							DatabaseException
						</a>
					</li>
					<li>
						<a href="ThriveData.ThrivePHP.DatabaseExclusionViolation.html">
							DatabaseExclusionViolation
						</a>
					</li>
					<li>
						<a href="ThriveData.ThrivePHP.DatabaseInvalidTextRepresentation.html">
							DatabaseInvalidTextRepresentation
						</a>
					</li>
					<li>
						<a href="ThriveData.ThrivePHP.DatabaseManyResults.html">
							DatabaseManyResults
						</a>
					</li>
					<li>
						<a href="ThriveData.ThrivePHP.DatabaseNoResult.html">
							DatabaseNoResult
						</a>
					</li>
					<li>
						<a href="ThriveData.ThrivePHP.DatabaseNotNullViolation.html">
							DatabaseNotNullViolation
						</a>
					</li>
					<li>
						<a href="ThriveData.ThrivePHP.DatabaseServerException.html">
							DatabaseServerException
						</a>
					</li>
					<li>
						<a href="ThriveData.ThrivePHP.DatabaseUndefinedColumn.html">
							DatabaseUndefinedColumn
						</a>
					</li>
					<li>
						<a href="ThriveData.ThrivePHP.DatabaseUniqueViolation.html">
							DatabaseUniqueViolation
						</a>
					</li>
					<li>
						<a href="ThriveData.ThrivePHP.DeprecatedException.html">
							DeprecatedException
						</a>
					</li>
					<li>
						<a href="ThriveData.ThrivePHP.ErrorException.html">
							ErrorException
						</a>
					</li>
					<li>
						<a href="ThriveData.ThrivePHP.Exception.html">
							Exception
						</a>
					</li>
					<li>
						<a href="ThriveData.ThrivePHP.ExecuteException.html">
							ExecuteException
						</a>
					</li>
					<li>
						<a href="ThriveData.ThrivePHP.InformationException.html">
							InformationException
						</a>
					</li>
					<li>
						<a href="ThriveData.ThrivePHP.InternalServerError.html">
							InternalServerError
						</a>
					</li>
					<li>
						<a href="ThriveData.ThrivePHP.MovedPermanently.html">
							MovedPermanently
						</a>
					</li>
					<li>
						<a href="ThriveData.ThrivePHP.MovedTemporarily.html">
							MovedTemporarily
						</a>
					</li>
					<li>
						<a href="ThriveData.ThrivePHP.NotFound.html">
							NotFound
						</a>
					</li>
					<li>
						<a href="ThriveData.ThrivePHP.NoticeException.html">
							NoticeException
						</a>
					</li>
					<li>
						<a href="ThriveData.ThrivePHP.ParseException.html">
							ParseException
						</a>
					</li>
					<li>
						<a href="ThriveData.ThrivePHP.PermanentRedirect.html">
							PermanentRedirect
						</a>
					</li>
					<li>
						<a href="ThriveData.ThrivePHP.PermissionDenied.html">
							PermissionDenied
						</a>
					</li>
					<li>
						<a href="ThriveData.ThrivePHP.PermissionException.html">
							PermissionException
						</a>
					</li>
					<li>
						<a href="ThriveData.ThrivePHP.RecoverableErrorException.html">
							RecoverableErrorException
						</a>
					</li>
					<li>
						<a href="ThriveData.ThrivePHP.RedirectException.html">
							RedirectException
						</a>
					</li>
					<li>
						<a href="ThriveData.ThrivePHP.RequestException.html">
							RequestException
						</a>
					</li>
					<li>
						<a href="ThriveData.ThrivePHP.ResponseException.html">
							ResponseException
						</a>
					</li>
					<li>
						<a href="ThriveData.ThrivePHP.RootPathUnknown.html">
							RootPathUnknown
						</a>
					</li>
					<li>
						<a href="ThriveData.ThrivePHP.SeeOtherRedirect.html">
							SeeOtherRedirect
						</a>
					</li>
					<li>
						<a href="ThriveData.ThrivePHP.SettingsException.html">
							SettingsException
						</a>
					</li>
					<li>
						<a href="ThriveData.ThrivePHP.StrictException.html">
							StrictException
						</a>
					</li>
					<li>
						<a href="ThriveData.ThrivePHP.TemporaryRedirect.html">
							TemporaryRedirect
						</a>
					</li>
					<li>
						<a href="ThriveData.ThrivePHP.Unauthorized.html">
							Unauthorized
						</a>
					</li>
					<li>
						<a href="ThriveData.ThrivePHP.UserDeprecatedException.html">
							UserDeprecatedException
						</a>
					</li>
					<li>
						<a href="ThriveData.ThrivePHP.UserErrorException.html">
							UserErrorException
						</a>
					</li>
					<li>
						<a href="ThriveData.ThrivePHP.UserNoticeException.html">
							UserNoticeException
						</a>
					</li>
					<li>
						<a href="ThriveData.ThrivePHP.UserWarningException.html">
							UserWarningException
						</a>
					</li>
					<li>
						<a href="ThriveData.ThrivePHP.WarningException.html">
							WarningException
						</a>
					</li>
			</ul>
		</div>
	</div>
	</div>

	<div class="layout-main">
		<div class="layout-navbar">
	<nav class="navbar">
		<div class="navbar-left">
			<ul class="navbar-links">
				<li>
					<a href="index.html">Overview</a>
				</li>
				<li>
					
						<a href="namespace-ThriveData.ThrivePHP.html">Namespace</a>
					
				</li>
<li class="active"><a href="ThriveData.ThrivePHP.ACL.html">Class</a></li>				<li>
					<a href="tree.html">Tree</a>
				</li>
			</ul>
		</div>
		<div class="navbar-right">
	<div class="search" data-elements="assets/elements.js">
		<input class="search-input" placeholder="Search class, function or namespace" autofocus>
		<ul class="search-results"></ul>
	</div>
		</div>
	</nav>
		</div>

		<div class="layout-content">
		<h1>
			Class <a href="namespace-ThriveData.html">ThriveData</a>\<a href="namespace-ThriveData.ThrivePHP.html">ThrivePHP</a>\<a href="ThriveData.ThrivePHP.ACL.html">ACL</a>
		</h1>


	<table class="classLikeSignatureTable">




	</table>
		<div class="classLikeDescription">
	<div class="description"><p>Query access control for users and roles.</p>
<p>There are four database tables involved in access control:</p>
<ul>
<li>roles table: The roles table is a list of roles that can be assigned to users.</li>
<li>users_roles: The users_roles table stores all the roles assigned to users.</li>
<li>acl_keys: The acl_keys table is a list of items that represent things for which
access should be controlled. Most keys represent a database tables or data objects.</li>
<li>acl_permissions: The acl_permissions table stores the permissions granted permissions
granted for a key to a role.</li>
</ul>
<p>Example: Johnny Appleseed is a sales manager and needs permissions to create, edit, and
delete estimates for himself and his team. Johnny will need to be assigned the Sales Manager role.
And the Sales Manager role should be given access to the key <code>data.estimates</code> and permission grants
of <code>select</code>, <code>update</code>, <code>create</code>, <code>delete</code>, and <code>manager</code>.</p>
</div>
		</div>


		<div class="classLikeSection">
			<b>Located at</b> <a href="source-ACL.html#21" title="Go to source code">ACL.php</a><br>
		</div>



		<table class="table" id="methods">
			<tr>
				<th class="table-heading sortable" colspan="3" title="Switch between natural and alphabetical order">Methods</th>
			</tr>

	<tr class="expandable collapsed" data-order="check" id="_check">
			<td class="table-cell table-shrink">
				<code class="nowrap">
					
	public
					static
					
				</code>
			</td>

			<td class="table-cell">
				<code><a href="source-ACL.html#31-105" title="Go to source code">check</a>(<span>string <var>$key</var></span>, <span>int <var>$permissions</var></span>, <span><span title="ThriveData\ThrivePHP\uuid">uuid</span> <var>$userId</var> = <span class="php-kw">null</span></span>)</code>


	<div class="expandable-collapsedView">
		Check if `$userId` is granted `$permissions` for `$key`.
	</div>

	<div class="expandable-expandedView">
	<div class="description"><p>Check if <code>$userId</code> is granted <code>$permissions</code> for <code>$key</code>.</p>
<p>The call <code>check('data.estimates', ACL::select)</code> will check if the current user
can view estimates for himself only. The call <code>check('data.estimates', ACL::select|ACL::manager)</code>
will check if the current user can view estimates for himself and anyone for who he is a manager.</p>
<p>The expression <code>ACL::select|ACL::manager</code>, where <code>|</code> is the binary OR operator, means the
user needs to have both select and manager grants. It can also be expressed like this:</p>
<pre><code>   Binary:    Decimal:
     10000       1
   | 00001    + 16
     -----      --
     10001      17
</code></pre>
</div>

							<h4>Parameters</h4>
							<table>
									<tr>
										<td><var>$key</var>&nbsp;&nbsp;</td>
										<td><p>The key from the <code>acl_keys</code> database table.</p>
</td>
									</tr>
									<tr>
										<td><var>$permissions</var>&nbsp;&nbsp;</td>
										<td><p>The granted permissions for <code>$key</code>. Possible permissions are:</p>
<ul>
<li>ACL::none</li>
<li>ACL::select</li>
<li>ACL::update</li>
<li>ACL::create</li>
<li>ACL::delete</li>
<li>ACL::manager</li>
<li>ACL::admin</li>
</ul>
</td>
									</tr>
									<tr>
										<td><var>$userId</var>&nbsp;&nbsp;</td>
										<td><p>The user's ID from the <code>users</code> database table.</p>
</td>
									</tr>
							</table>



	</div>
			</td>
		<td class="table-anchor">
			<a href="#_check">#</a>
		</td>
	</tr>
	<tr class="expandable collapsed" data-order="assert" id="_assert">
			<td class="table-cell table-shrink">
				<code class="nowrap">
					
	public
					static
					
				</code>
			</td>

			<td class="table-cell">
				<code><a href="source-ACL.html#107-117" title="Go to source code">assert</a>(<span><var>$key</var></span>, <span><var>$permissions</var></span>, <span><var>$userId</var> = <span class="php-kw">null</span></span>)</code>


	<div class="expandable-collapsedView">
		Same as `check()` except throw exception instead of returning boolean.
	</div>

	<div class="expandable-expandedView">
	<div class="description"><p>Same as <code>check()</code> except throw exception instead of returning boolean.</p>
</div>




	</div>
			</td>
		<td class="table-anchor">
			<a href="#_assert">#</a>
		</td>
	</tr>
	<tr class="expandable collapsed" data-order="role" id="_role">
			<td class="table-cell table-shrink">
				<code class="nowrap">
					
	public
					static
					
				</code>
			</td>

			<td class="table-cell">
				<code><a href="source-ACL.html#119-130" title="Go to source code">role</a>(<span><var>$role</var></span>)</code>


	<div class="expandable-collapsedView">
		Check if `$userId` has given `$role`.
	</div>

	<div class="expandable-expandedView">
	<div class="description"><p>Check if <code>$userId</code> has given <code>$role</code>.</p>
</div>




	</div>
			</td>
		<td class="table-anchor">
			<a href="#_role">#</a>
		</td>
	</tr>
	<tr class="expandable collapsed" data-order="page" id="_page">
			<td class="table-cell table-shrink">
				<code class="nowrap">
					
	public
					static
					
				</code>
			</td>

			<td class="table-cell">
				<code><a href="source-ACL.html#132-142" title="Go to source code">page</a>(<span><var>$key</var></span>, <span><var>$permissions</var></span>)</code>


	<div class="expandable-collapsedView">
		Same as `assert()` except error message is specifically about page access.
	</div>

	<div class="expandable-expandedView">
	<div class="description"><p>Same as <code>assert()</code> except error message is specifically about page access.</p>
</div>




	</div>
			</td>
		<td class="table-anchor">
			<a href="#_page">#</a>
		</td>
	</tr>
	<tr class="expandable collapsed" data-order="users" id="_users">
			<td class="table-cell table-shrink">
				<code class="nowrap">
					
	public
					static
					
				</code>
			</td>

			<td class="table-cell">
				<code><a href="source-ACL.html#144-162" title="Go to source code">users</a>(<span><var>$key</var></span>, <span><var>$permissions</var></span>)</code>


	<div class="expandable-collapsedView">
		Get users that have given permissions.
	</div>

	<div class="expandable-expandedView">
	<div class="description"><p>Get users that have given permissions.</p>
</div>




	</div>
			</td>
		<td class="table-anchor">
			<a href="#_users">#</a>
		</td>
	</tr>
	<tr class="expandable collapsed" data-order="session" id="_session">
			<td class="table-cell table-shrink">
				<code class="nowrap">
					
	public
					static
					
				</code>
			</td>

			<td class="table-cell">
				<code><a href="source-ACL.html#164-204" title="Go to source code">session</a>(<span><var>$user_id</var></span>)</code>


	<div class="expandable-collapsedView">
		Get permissions info to be stored in the user's login session.
	</div>

	<div class="expandable-expandedView">
	<div class="description"><p>Get permissions info to be stored in the user's login session.</p>
</div>




	</div>
			</td>
		<td class="table-anchor">
			<a href="#_session">#</a>
		</td>
	</tr>
		</table>



		<table class="table" id="constants">
			<tr>
				<th class="table-heading sortable" colspan="3" title="Switch between natural and alphabetical order">Constants</th>
			</tr>

	<tr class="expandable collapsed" data-order="none" id="none">
			<td class="table-cell table-shrink">
				<code class="nowrap">
					
	public
				</code>
			</td>

			<td class="table-cell">
<code><a href="source-ACL.html#23" title="Go to source code">none</a> = <span class="php-num">0</span></code>


	<div class="expandable-expandedView">
	</div>
			</td>
		<td class="table-anchor">
			<a href="#none">#</a>
		</td>
	</tr>
	<tr class="expandable collapsed" data-order="select" id="select">
			<td class="table-cell table-shrink">
				<code class="nowrap">
					
	public
				</code>
			</td>

			<td class="table-cell">
<code><a href="source-ACL.html#24" title="Go to source code">select</a> = <span class="php-num">1</span></code>


	<div class="expandable-expandedView">
	</div>
			</td>
		<td class="table-anchor">
			<a href="#select">#</a>
		</td>
	</tr>
	<tr class="expandable collapsed" data-order="update" id="update">
			<td class="table-cell table-shrink">
				<code class="nowrap">
					
	public
				</code>
			</td>

			<td class="table-cell">
<code><a href="source-ACL.html#24-25" title="Go to source code">update</a> = <span class="php-num">2</span></code>


	<div class="expandable-expandedView">
	</div>
			</td>
		<td class="table-anchor">
			<a href="#update">#</a>
		</td>
	</tr>
	<tr class="expandable collapsed" data-order="create" id="create">
			<td class="table-cell table-shrink">
				<code class="nowrap">
					
	public
				</code>
			</td>

			<td class="table-cell">
<code><a href="source-ACL.html#25-26" title="Go to source code">create</a> = <span class="php-num">4</span></code>


	<div class="expandable-expandedView">
	</div>
			</td>
		<td class="table-anchor">
			<a href="#create">#</a>
		</td>
	</tr>
	<tr class="expandable collapsed" data-order="delete" id="delete">
			<td class="table-cell table-shrink">
				<code class="nowrap">
					
	public
				</code>
			</td>

			<td class="table-cell">
<code><a href="source-ACL.html#26-27" title="Go to source code">delete</a> = <span class="php-num">8</span></code>


	<div class="expandable-expandedView">
	</div>
			</td>
		<td class="table-anchor">
			<a href="#delete">#</a>
		</td>
	</tr>
	<tr class="expandable collapsed" data-order="manager" id="manager">
			<td class="table-cell table-shrink">
				<code class="nowrap">
					
	public
				</code>
			</td>

			<td class="table-cell">
<code><a href="source-ACL.html#27-28" title="Go to source code">manager</a> = <span class="php-num">16</span></code>


	<div class="expandable-expandedView">
	</div>
			</td>
		<td class="table-anchor">
			<a href="#manager">#</a>
		</td>
	</tr>
	<tr class="expandable collapsed" data-order="admin" id="admin">
			<td class="table-cell table-shrink">
				<code class="nowrap">
					
	public
				</code>
			</td>

			<td class="table-cell">
<code><a href="source-ACL.html#28-29" title="Go to source code">admin</a> = <span class="php-num">32</span></code>


	<div class="expandable-expandedView">
	</div>
			</td>
		<td class="table-anchor">
			<a href="#admin">#</a>
		</td>
	</tr>
	<tr class="expandable collapsed" data-order="grant" id="grant">
			<td class="table-cell table-shrink">
				<code class="nowrap">
					
	public
				</code>
			</td>

			<td class="table-cell">
<code><a href="source-ACL.html#29-30" title="Go to source code">grant</a> = <span class="php-num">64</span></code>


	<div class="expandable-expandedView">
	</div>
			</td>
		<td class="table-anchor">
			<a href="#grant">#</a>
		</td>
	</tr>
	<tr class="expandable collapsed" data-order="revoke" id="revoke">
			<td class="table-cell table-shrink">
				<code class="nowrap">
					
	public
				</code>
			</td>

			<td class="table-cell">
<code><a href="source-ACL.html#30-31" title="Go to source code">revoke</a> = <span class="php-num">128</span></code>


	<div class="expandable-expandedView">
	</div>
			</td>
		<td class="table-anchor">
			<a href="#revoke">#</a>
		</td>
	</tr>
		</table>





		</div>

		<div class="layout-footer">
			 API documentation generated by <a href="https://www.apigen.org">ApiGen v7.0.0-alpha.6</a>
		</div>
	</div>

	<div class="layout-rest">
		<div class="navbar"></div>
	</div>
</body>
</html>
